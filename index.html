<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>CHAOS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html, body {
  margin: 0;
  padding: 0;
  width: 100%;
  height: 100%;
  background: #000;
  overflow: hidden;
  font-family: monospace;
  cursor: none;
}

#core {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  font-size: clamp(28px, 6vw, 90px);
  color: #00ff88;
  pointer-events: none;
  transition: transform 0.1s, color 0.2s;
  text-align: center;
}

.chaos-img {
  position: fixed;
  max-width: 340px;
  pointer-events: none;
  opacity: 0;
  animation: chaos 3.2s forwards;
  mix-blend-mode: difference;
  filter: contrast(130%) saturate(160%);
}

@keyframes chaos {
  0% { opacity: 0; transform: scale(0.2) rotate(0deg); }
  20% { opacity: 1; }
  100% { opacity: 0; transform: scale(1.5) rotate(360deg); }
}

@keyframes pulseBg {
  0% { background:#000; }
  50% { background:#050505; }
  100% { background:#000; }
}

body.pulse {
  animation: pulseBg 6s infinite;
}

/* Глитч */
.glitch {
  position: relative;
}
.glitch::before,
.glitch::after {
  content: attr(data-text);
  position: absolute;
  left: 0; top: 0;
  width: 100%;
  opacity: 0.7;
}
.glitch::before { color: red; animation: glitch1 0.3s infinite; }
.glitch::after { color: cyan; animation: glitch2 0.2s infinite; }

@keyframes glitch1 {
  0% { transform: translate(2px,-2px); }
  50% { transform: translate(-2px,2px); }
  100% { transform: translate(0); }
}
@keyframes glitch2 {
  0% { transform: translate(-2px,2px); }
  50% { transform: translate(2px,-2px); }
  100% { transform: translate(0); }
}

/* Тряска экрана */
@keyframes shake {
  0% { transform: translate(0); }
  25% { transform: translate(3px,-3px); }
  50% { transform: translate(-3px,3px); }
  75% { transform: translate(3px,3px); }
  100% { transform: translate(0); }
}
body.shake { animation: shake 0.15s infinite; }
</style>
</head>

<body class="pulse">
<div id="core">CLICK</div>

<audio id="bgSound" src="3.mp3" loop preload="auto"></audio>

<script>
const images = [
  'загружено - 2026-01-05T224423.175.png',
  'загружено - 2026-01-05T225056.516.png',
  'загружено - 2026-01-05T231804.301.png',
  'загружено - 2026-01-05T232153.963.png',
  'загружено - 2026-01-05T232315.524.png',
  'загружено - 2026-01-05T232650.360.png',
  'загружено - 2026-01-05T232714.168.png',
  'загружено - 2026-01-05T232812.329.png',
  'загружено - 2026-01-05T232838.749.png',
  'загружено - 2026-01-05T232903.777.png',
  'загружено - 2026-01-05T232939.881.png',
  'загружено - 2026-01-06T180033.656.png',
  'загружено - 2026-01-06T184409.123.png',
  'загружено - 2026-01-06T184904.223.png',
  'загружено - 2026-01-06T185440.044.png',
  'загружено - 2026-01-06T185532.800.png',
  'загружено - 2026-01-06T191936.283.png',
  'загружено - 2026-01-06T194212.418.png',
  'загружено - 2026-01-06T195508.834.png'
];

const words = ['CHAOS','ERROR','NO SIGNAL','WAKE UP','NULL','404','SYSTEM'];
const core = document.getElementById('core');
const sound = document.getElementById('bgSound');
let started = false;

/* Спавн хаос-картинок */
function spawnImage() {
  const img = document.createElement('img');
  img.src = images[Math.floor(Math.random() * images.length)];
  img.className = 'chaos-img';
  img.style.left = Math.random() * innerWidth + 'px';
  img.style.top = Math.random() * innerHeight + 'px';
  document.body.appendChild(img);
  setTimeout(() => img.remove(), 3200);
}
setInterval(spawnImage, 500);

/* Движение мыши */
document.addEventListener('mousemove', () => {
  core.style.transform =
    `translate(calc(-50% + ${(Math.random()-0.5)*80}px),
               calc(-50% + ${(Math.random()-0.5)*80}px))`;
});

/* Клик для запуска */
document.addEventListener('click', () => {
  if (!started) {
    sound.volume = 0.25;
    sound.play();
    started = true;
    core.textContent = 'CHAOS';
    core.classList.add('glitch');
    core.setAttribute('data-text', 'CHAOS');
    setTimeout(() => { document.body.style.background = '#100'; core.style.color = '#ff0000'; }, 30000);
  }
  core.style.color = `hsl(${Math.random()*360},100%,60%)`;
  for (let i = 0; i < 3; i++) spawnImage();
});

/* Если звук остановился */
setInterval(() => {
  if (started && sound.paused) { sound.play().catch(()=>{}); }
}, 2000);

/* Рандомные слова */
setInterval(() => {
  if (started) core.textContent = words[Math.floor(Math.random()*words.length)];
}, 1200);

/* Флеши экрана */
function flash() {
  document.body.style.background = '#fff';
  setTimeout(() => document.body.style.background = '#000', 50);
}
setInterval(() => { if (started && Math.random() < 0.2) flash(); }, 1500);

/* Деградация звука */
setInterval(() => {
  if (started) {
    sound.playbackRate = 0.8 + Math.random()*0.4;
    sound.volume = 0.15 + Math.random()*0.2;
  }
}, 3000);

/* Двойной клик — тряска экрана */
document.addEventListener('dblclick', () => {
  document.body.classList.toggle('shake');
});

/* Idle-триггер */
let idle;
document.addEventListener('mousemove', resetIdle);
document.addEventListener('click', resetIdle);
function resetIdle() {
  clearTimeout(idle);
  idle = setTimeout(() => {
    core.textContent = 'YOU ARE STILL HERE';
  }, 10000);
}
</script>
</body>
</html>
